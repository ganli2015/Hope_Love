#pragma once
#include "InOut.h"

namespace CommonTool
{
	class ConstraintStatement;

	//////////////////////////////////////////////////////////////////////////
	//Statement of deletion for database.
	//////////////////////////////////////////////////////////////////////////
	class _COMMONTOOLSINOUT DeleteStatement
	{
		string _tableName;

		ConstraintStatement* _constraint;

	public:
		DeleteStatement(const string tableName);
		~DeleteStatement();
		DeleteStatement(const DeleteStatement&);

		//////////////////////////////////////////////////////////////////////////
		//Generate sql sentence from <me>.
		//////////////////////////////////////////////////////////////////////////
		string GetString() const;

		//////////////////////////////////////////////////////////////////////////
		//Set equality condition.
		//The field value equals to <val>.
		//<val> should be encoded as Ascii !!!
		//////////////////////////////////////////////////////////////////////////
		void EQ(const string fieldName, const string val);
		void EQ(const string fieldName, const int val);
		void EQ(const string fieldName, const long val);

		//////////////////////////////////////////////////////////////////////////
		//Only one Like constraint will be set.
		//////////////////////////////////////////////////////////////////////////
		void Like(const string fieldName, const string format);
	};
}


